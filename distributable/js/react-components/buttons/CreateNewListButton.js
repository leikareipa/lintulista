"use strict";import{is_defined,panic_if_not_type}from"../../assert.js";import{BackendAccess}from"../../backend-access.js";export function CreateNewListButton(a={}){CreateNewListButton.validate_props(a);const[b,c]=React.useState("1"),[d,e]=React.useState(0);React.useEffect(()=>{d&&("2"===b&&is_defined(d.editKey)&&is_defined(d.viewKey)?c("3"):c("fail"))},[d]),React.useEffect(()=>{switch(b){case"2":{(async()=>{const a=await BackendAccess.create_new_list();a?e(a):c("fail")})();break}case"3":{is_defined(d.editKey)&&is_defined(d.viewKey)||c("fail");break}default:}},[b]);const f={1:React.createElement("div",null,"Luo uusi lista"),2:React.createElement("div",null,React.createElement("i",{className:"fas fa-spinner fa-spin fa-lg",style:{marginLeft:"-16px",marginRight:"16px"}}),"Luodaan uutta listaa, odotahan..."),3:React.createElement("div",null,"Luotiin uusi lista! Nappaa ",React.createElement("a",{href:`./muokkaa/${d.editKey}`,target:"_blank",rel:"noopener noreferrer"},"linkki")," talteen."),fail:React.createElement("div",null,React.createElement("i",{className:"fas fa-times fa-lg",style:{marginLeft:"-16px",marginRight:"16px"}}),"Uutta listaa ei voitu luoda!")};return React.createElement("div",{className:"CreateNewListButton"},React.createElement("div",{className:`button step-${b}`,onClick:()=>{"1"===b&&c("2")}},f[b]||React.createElement(React.Fragment,null)))}CreateNewListButton.validate_props=function(a){panic_if_not_type("object",a)};